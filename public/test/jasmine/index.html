<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1">

    <title>Backbone Boilerplate Jasmine Test Suite</title>

    <!-- Jasmine styles -->
    <link rel="stylesheet" href="vendor/jasmine.css">
</head>

<body>
    <p id="ok" style="display:none;">1</p>

    <!-- Load application -->
    <script src="../../assets/js/libs/require.js"></script>

    <script>
        require({
            urlArgs: "bust=" + (new Date()).getTime(), // @todo change bust with revision number or App version ?

            // First the requirejs config - @todo is there a way to just extend the already existing config.js ?
            paths: {
                jquery: "../../assets/js/libs/jquery",
                lodash: "../../assets/js/libs/lodash",
                jasmine: '../../test/jasmine/vendor/jasmine',
                'jasmine-html': '../../test/jasmine/vendor/jasmine-html',
                spec: '../../test/jasmine/spec'
            },

            shim: {
                jasmine: {
                    exports: 'jasmine'
                },
                'jasmine-html': {
                    deps: ['jasmine'],
                    exports: 'jasmine'
                }
            }
        }, [

            // Then the dependencies
            'jquery',
            'lodash',
            'jasmine-html'

        ], function($, _, jasmine) {

            // Set up the jasmine reporters
            var jEnv = jasmine.getEnv();
            jEnv.addReporter(new jasmine.TrivialReporter());

            // Declare your spec files to be run here
            var specs = [
                'spec/example'
            ];

            //  Execute tests after having required all specs
            $(function() {
                require(specs, function() {
                    jEnv.execute();
                });
            });

        });
    </script>
</body>
</html>
